version: '{build}'
image: Visual Studio 2017
configuration: Release
platform: Any CPU
install:
- cmd: appveyor DownloadFile https://dist.nuget.org/win-x86-commandline/latest/nuget.exe
before_build:
- cmd: nuget.exe restore MSBuildPropsUpdater.sln
build:
  project: MSBuildPropsUpdater.sln
  verbosity: minimal
after_build:
- cmd: >-
    dotnet restore src/MSBuildPropsUpdater

    dotnet build src/MSBuildPropsUpdater/MSBuildPropsUpdater.csproj -c Release -f netstandard2.0

    dotnet pack src/MSBuildPropsUpdater/MSBuildPropsUpdater.csproj -c Release
test: off
artifacts:
- path: src\MSBuildPropsUpdater.WPF\bin\Release
  name: MSBuildPropsUpdater.WPF
- path: src\MSBuildPropsUpdater\bin\Release\*.nupkg
deploy: off